<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="https://cdn.glitch.global/7ede3348-1731-4eff-be67-e4d544bd7626/view.png?v=1679463953089" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./sign-style.css">
  <script src="./sign.js"></script>
  <title>Decorex</title>
  <script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-analytics.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js';

    const firebaseConfig = {
      apiKey: "AIzaSyAAqQ1p7tqfWXm597gXK0g1lFcmQBYBaRI",
      authDomain: "decorex-a80d5.firebaseapp.com",
      projectId: "decorex-a80d5",
      storageBucket: "decorex-a80d5.appspot.com",
      messagingSenderId: "385003038477",
      appId: "1:385003038477:web:585fb013e6d15a2274f244",
      measurementId: "G-MVTBL1VCH4"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const provider = new GoogleAuthProvider();
    const auth = getAuth();
    const signIn = document.querySelector('.signIn');

    signIn.addEventListener('click', function () {
      signInWithPopup(auth, provider)
        .then((result) => {
          const credential = GoogleAuthProvider.credentialFromResult(result);
          const token = credential.accessToken;
          const user = result.user;
          window.location.assign('./home.html');

        }).catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          const email = error.customData.email;
          const credential = GoogleAuthProvider.credentialFromError(error);

          console.error(error);
        });
    })
  </script>
</head>

<body>
  <main class="signIn">
    <div>
      <img src="https://cdn.glitch.global/7ede3348-1731-4eff-be67-e4d544bd7626/furniture_large.png?v=1680859895699">
    </div>
    <button type="button" class="btn btn-primary btn-lg">Sign in</button>
    <div class="credit">
      Developed by
      Students of
      M.H.S.S.C.E
    </div>
  </main>
</body>

</html>